<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Cave Du Vignoble | Maison de Prestige</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --gold: linear-gradient(135deg, #c5a059 0%, #f1e2af 50%, #c5a059 100%);
            --gold-solid: #c5a059;
            --gold-bright: #e9d1a1;
            --dark: #070707; 
            --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(197, 160, 89, 0.2);
            --white: #ffffff; 
        }

        * { box-sizing: border-box; scroll-behavior: smooth; }
        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--dark);
            background-image: radial-gradient(circle at center, #1a1a1a 0%, #070707 100%);
            color: var(--white); margin: 0; overflow-x: hidden;
        }

        nav {
            position: fixed; top: 0; width: 100%; padding: 25px 50px;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(7, 7, 7, 0.9); backdrop-filter: blur(15px);
            z-index: 1000; border-bottom: 1px solid var(--glass-border);
        }
        .logo { font-family: 'Playfair Display'; background: var(--gold); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 1.4rem; font-weight: bold; letter-spacing: 4px; }
        .nav-links a { color: var(--white); text-decoration: none; margin-left: 40px; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 2px; opacity: 0.7; transition: 0.4s; }
        .nav-links a:hover { opacity: 1; color: var(--gold-bright); }

        header { 
            height: 80vh; 
            background: linear-gradient(rgba(0,0,0,0.2), var(--dark)), url('https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?q=80&w=2070&auto=format&fit=crop');
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }
        header h1 { font-family: 'Playfair Display', serif; font-size: clamp(2.5rem, 8vw, 6rem); background: var(--gold); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 0; text-transform: uppercase; letter-spacing: 20px; font-weight: 400; }

        section { padding: 100px 20px; max-width: 1400px; margin: auto; }
        .section-title { text-align: center; font-family: 'Playfair Display', serif; font-size: 2.5rem; color: var(--gold-solid); margin-bottom: 60px; letter-spacing: 5px; }

        #about { background: rgba(255,255,255,0.02); border-radius: 2px; padding: 120px 40px; border: 1px solid var(--glass-border); margin-bottom: 50px; }
        .about-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; }
        .about-text { line-height: 1.8; font-weight: 200; font-size: 1.1rem; color: #ddd; }
        .about-text strong { color: var(--gold-bright); }
        .about-image { width: 100%; height: 400px; background: url('https://images.unsplash.com/photo-1504279589122-ca21750001bd?q=80&w=1974&auto=format&fit=crop') center/cover; border: 1px solid var(--gold-solid); }

        .tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 50px; flex-wrap: wrap; }
        .tab-btn { background: none; border: 1px solid var(--glass-border); color: var(--white); padding: 12px 25px; cursor: pointer; text-transform: uppercase; font-size: 0.7rem; letter-spacing: 2px; transition: 0.4s; opacity: 0.6; }
        .tab-btn.active { border-color: var(--gold-bright); opacity: 1; background: rgba(197, 160, 89, 0.1); color: var(--gold-bright); }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { background: var(--glass); border: 1px solid rgba(255,255,255,0.05); padding: 40px; text-align: center; transition: 0.5s; backdrop-filter: blur(5px); }
        .card:hover { border-color: var(--gold-solid); transform: translateY(-5px); }
        .card h3 { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--white); margin-bottom: 10px; }
        .price { font-family: 'Playfair Display', serif; font-size: 2rem; color: var(--gold-bright); margin: 20px 0; }

        .add-btn { background: var(--gold); color: black; border: none; padding: 15px; width: 100%; font-weight: bold; cursor: pointer; text-transform: uppercase; letter-spacing: 2px; transition: 0.3s; }

        #modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 2000; backdrop-filter: blur(15px); }
        .modal-content { background: #0a0a0a; padding: 40px; width: 95%; max-width: 500px; border: 1px solid var(--gold-solid); max-height: 90vh; overflow-y: auto; }
        
        .cart-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .cart-controls { display: flex; align-items: center; gap: 10px; }
        .qty-btn { background: none; border: 1px solid var(--gold-solid); color: var(--gold-solid); width: 28px; height: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .remove-btn { background: none; border: none; color: #ff4444; cursor: pointer; font-size: 1.2rem; margin-left: 10px; opacity: 0.6; }

        .total-row { margin-top: 20px; font-size: 1.5rem; text-align: right; color: var(--gold-bright); font-family: 'Playfair Display'; border-top: 1px solid var(--gold-solid); padding-top: 15px; }
        .form-input { width: 100%; padding: 15px; margin-bottom: 15px; background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); color: white; }
        
        #cart-trigger { position: fixed; bottom: 40px; right: 40px; background: var(--gold); color: black; padding: 20px 30px; font-weight: bold; cursor: pointer; border: none; z-index: 900; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-transform: uppercase; letter-spacing: 2px; }

        footer { padding: 50px; text-align: center; border-top: 1px solid var(--glass-border); opacity: 0.5; font-size: 0.8rem; }
    </style>
</head>
<body>

<nav>
    <div class="logo">LA CAVE</div>
    <div class="nav-links">
        <a href="#">Accueil</a>
        <a href="#about">L'Héritage</a>
        <a href="#boutique">Boutique</a>
    </div>
</nav>

<header>
    <h1>La Cave Du Vignoble</h1>
    <div style="letter-spacing: 5px; opacity: 0.6;">L'EXCELLENCE DE SAN ANDREAS — DEPUIS 1988</div>
</header>

<section id="about">
    <h2 class="section-title">L'Héritage du Nord</h2>
    <div class="about-grid">
        <div class="about-text">
            <p>Nichée sur les contreforts sauvages au <strong>nord de Los Santos</strong>, la Maison du Vignoble est bien plus qu'une simple cave. Elle est le fruit d'une terre baignée par le soleil de la côte ouest et la fraîcheur des montagnes de San Andreas.</p>
            <p>Depuis 1988, nous cultivons le prestige. Nos vignes, situées sur les collines les plus prisées de la région, produisent les crus les plus rares, réservés aux palais les plus fins de la haute société de Los Santos.</p>
            <p>Considéré aujourd'hui comme le <strong>vignoble le plus prestigieux de la région</strong>, nous mettons un point d'honneur à conserver nos bouteilles dans des caves creusées à même la roche.</p>
            <p style="color:var(--gold-bright); font-family: 'Playfair Display'; font-style: italic; font-size: 1.3rem; margin-top: 30px;">"La qualité n'est pas un luxe, c'est un privilège."</p>
        </div>
        <div class="about-image"></div>
    </div>
</section>

<section id="boutique">
    <h2 class="section-title">Notre Collection</h2>
    <div class="tabs">
        <button class="tab-btn active" onclick="filterCategory('fraiches', this)">Softs</button>
        <button class="tab-btn" onclick="filterCategory('rouge', this)">Vins Rouges</button>
        <button class="tab-btn" onclick="filterCategory('blanc', this)">Vins Blancs</button>
        <button class="tab-btn" onclick="filterCategory('champagne', this)">Champagnes</button>
    </div>
    <div class="grid" id="product-list"></div>
</section>

<button id="cart-trigger" onclick="toggleModal(true)" style="display:none;">PANIER (<span id="cart-count">0</span>)</button>

<div id="modal-overlay">
    <div class="modal-content">
        <h2 style="font-family: 'Playfair Display'; color: var(--gold-bright); text-align: center; text-transform: uppercase;">Votre Sélection</h2>
        <div id="cart-items"></div>
        <div class="total-row">TOTAL : <span id="cart-total">0</span> $</div>
        
        <form action="https://formspree.io/f/xreaonyl" method="POST" style="margin-top: 30px;">
            <input type="text" name="Nom" class="form-input" placeholder="Nom complet" required>
            <input type="tel" name="Tel" class="form-input" placeholder="Numéro de téléphone" required>
            <input type="hidden" name="Commande_Detail" id="hidden-detail">
            <input type="hidden" name="Prix_Final" id="hidden-total">
            <button type="submit" class="add-btn">Valider la commande</button>
            <button type="button" onclick="toggleModal(false)" style="background:none; border:none; color:#777; width:100%; margin-top:15px; cursor:pointer; text-transform:uppercase; font-size:0.7rem;">Retour</button>
        </form>
    </div>
</div>

<footer>&copy; 2026 LA CAVE DU VIGNOBLE. L'ABUS D'ALCOOL EST DANGEREUX POUR LA SANTÉ.</footer>

<script>
    const products = [
        { id: 0, cat: 'fraiches', name: "Jus d'orange pressé", price: 7 },
        { id: 1, cat: 'fraiches', name: "Bière artisanale", price: 12 },
        { id: 2, cat: 'rouge', name: "Grenacha", price: 25 },
        { id: 3, cat: 'rouge', name: "Merlot", price: 40 },
        { id: 4, cat: 'rouge', name: "Cabernet Sauvignon", price: 50 },
        { id: 5, cat: 'rouge', name: "Pinot Noir", price: 55 },
        { id: 6, cat: 'rouge', name: "Bordelais", price: 60 },
        { id: 7, cat: 'rouge', name: "Côte du Rhône", price: 65 },
        { id: 8, cat: 'blanc', name: "Chardonnay", price: 30 },
        { id: 9, cat: 'blanc', name: "Sauvignon Blanc", price: 35 },
        { id: 10, cat: 'blanc', name: "Blanc du vignoble", price: 100 },
        { id: 11, cat: 'champagne', name: "Champagne de Prestige", price: 1000 }
    ];

    let cart = {};
    let currentCat = 'fraiches';

    function render() {
        const list = document.getElementById('product-list');
        list.innerHTML = products.filter(p => p.cat === currentCat).map(p => `
            <div class="card">
                <h3>${p.name}</h3>
                <div class="price">${p.price} $</div>
                <button class="add-btn" onclick="addToCart(${p.id})">Ajouter</button>
            </div>
        `).join('');
    }

    function filterCategory(cat, btn) {
        currentCat = cat;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        render();
    }

    function addToCart(id) {
        const p = products.find(prod => prod.id === id);
        if (!cart[p.name]) cart[p.name] = { price: p.price, qty: 0 };
        cart[p.name].qty += 1;
        updateCart();
        document.getElementById('cart-trigger').style.display = 'block';
    }

    function changeQty(name, delta) {
        if (cart[name]) {
            cart[name].qty += delta;
            if (cart[name].qty <= 0) delete cart[name];
            updateCart();
        }
    }

    function removeItem(name) {
        delete cart[name];
        updateCart();
    }

    function updateCart() {
        let total = 0, count = 0, html = "", detail = "";
        for (let name in cart) {
            let linePrice = cart[name].price * cart[name].qty;
            total += linePrice;
            count += cart[name].qty;
            html += `
                <div class="cart-row">
                    <div>
                        <div style="font-weight:bold">${name}</div>
                        <div style="color:var(--gold-solid); font-size:0.85rem">${cart[name].price} $ / unité</div>
                    </div>
                    <div class="cart-controls">
                        <button class="qty-btn" onclick="changeQty('${name.replace(/'/g, "\\'")}', -1)">-</button>
                        <span style="min-width:20px; text-align:center">${cart[name].qty}</span>
                        <button class="qty-btn" onclick="changeQty('${name.replace(/'/g, "\\'")}', 1)">+</button>
                        <button class="remove-btn" onclick="removeItem('${name.replace(/'/g, "\\'")}')">&times;</button>
                    </div>
                </div>`;
            detail += `${name} (x${cart[name].qty}), `;
        }
        
        document.getElementById('cart-items').innerHTML = html || "<p style='text-align:center; opacity:0.5;'>Le panier est vide</p>";
        document.getElementById('cart-total').innerText = total;
        document.getElementById('cart-count').innerText = count;
        document.getElementById('hidden-total').value = total + " $";
        document.getElementById('hidden-detail').value = detail;

        if (count === 0) {
            document.getElementById('cart-trigger').style.display = 'none';
            if(document.getElementById('modal-overlay').style.display === 'flex') toggleModal(false);
        }
    }

    function toggleModal(s) { document.getElementById('modal-overlay').style.display = s ? 'flex' : 'none'; }

    render();
</script>
</body>
</html>